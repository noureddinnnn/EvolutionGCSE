:root {
  --bg: #f2f7fb;
  --panel: #fff;
  --ink: #0f2f45;
  --muted: #38576c;
  --accent: #0b74ad;
  --accent-soft: #dff1fb;
  --ok: #137a40;
  --med: #996000;
  --low: #9b1d3a;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
  background: var(--bg);
  color: var(--ink);
  padding: 1rem;
}
.app {
  max-width: 1100px;
  margin: 0 auto;
  background: var(--panel);
  border-radius: 16px;
  box-shadow: 0 8px 28px rgba(0,0,0,.08);
  padding: 1rem;
}
.app-header h1 {
  margin: 0;
  font-size: clamp(1.5rem, 3vw, 2.2rem);
}
.app-header h1 span { font-size: .8em; }
.app-header p { font-size: 1.05rem; color: var(--muted); }

.progress-wrap { margin: 1rem 0; }
.progress-bar {
  height: 14px;
  background: #e3edf4;
  border-radius: 999px;
  overflow: hidden;
}
.progress-fill {
  height: 100%;
  width: 25%;
  background: linear-gradient(90deg, #0b5f8f, #0aa0ca);
  transition: width .2s;
}
.progress-steps {
  list-style: none;
  padding: .4rem 0 0;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: .4rem;
}
.progress-steps li {
  background: #edf5fb;
  border: 1px solid #d3e6f4;
  border-radius: 8px;
  padding: .45rem;
  text-align: center;
  font-weight: 700;
  font-size: .88rem;
}
.progress-steps li.active { background: #d3ebfa; border-color: #84bbdf; }
.progress-steps li.done { background: #dff3e6; border-color: #8ecda4; }

.panel {
  border: 1px solid #e2ecf3;
  border-radius: 12px;
  padding: 1rem;
}
.hidden { display: none; }
.challenge-card {
  background: #f8fcff;
  border: 1px solid #d9e9f5;
  border-radius: 10px;
  padding: .8rem;
  margin-bottom: .7rem;
}
.selection-text { font-weight: 700; }
.trait-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(235px, 1fr));
  gap: .7rem;
}
.trait-btn {
  border: 2px solid #c7dbe8;
  border-radius: 12px;
  background: #fff;
  text-align: left;
  padding: .8rem;
  min-height: 110px;
  font-size: 1rem;
  cursor: pointer;
}
.trait-btn strong { display: block; margin-bottom: .35rem; }
.trait-btn.selected {
  border-color: #0b6a9e;
  background: var(--accent-soft);
}
.trait-btn:focus-visible,
.btn:focus-visible,
.emoji-btn:focus-visible {
  outline: 3px solid #ffbf47;
  outline-offset: 2px;
}
.button-row {
  display: flex;
  gap: .7rem;
  margin-top: .9rem;
  flex-wrap: wrap;
}
.btn {
  border: none;
  border-radius: 10px;
  padding: .8rem 1rem;
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  background: #d9e5ef;
  color: #17364a;
}
.btn-primary { background: var(--accent); color: #fff; }
.btn:disabled { opacity: .5; cursor: not-allowed; }

.badge { font-weight: 800; font-size: 1.2rem; }
.badge.high { color: var(--ok); }
.badge.medium { color: var(--med); }
.badge.low { color: var(--low); }
.bullets li { margin: .35rem 0; }
.tradeoff {
  background: #fff5e3;
  border-left: 4px solid #e9a23b;
  padding: .6rem;
}
.match-card {
  border: 1px solid #d7e8f5;
  background: #f8fcff;
  border-radius: 10px;
  padding: .7rem;
}
.match-name { font-weight: 800; }

summary, table { width: 100%; }
table { border-collapse: collapse; margin-bottom: .8rem; }
th, td { border: 1px solid #d5e5f2; padding: .55rem; text-align: left; }
th { background: #eef6fc; }
.toolkit, .evo-note { line-height: 1.45; }
#creatureCanvas {
  width: 100%;
  max-width: 780px;
  border: 1px solid #d2e5f2;
  border-radius: 8px;
  display: block;
  margin-bottom: .7rem;
  background: #f9fdff;
}
textarea {
  width: 100%;
  border: 1px solid #bfd5e5;
  border-radius: 8px;
  padding: .6rem;
  font-size: .95rem;
}
.emoji-row { display: flex; gap: .5rem; flex-wrap: wrap; margin: .4rem 0; }
.emoji-btn {
  font-size: 1.8rem;
  border: 2px solid #c7dbe8;
  border-radius: 10px;
  padding: .3rem .5rem;
  background: #fff;
  cursor: pointer;
}
.emoji-btn.selected { background: #dff1fb; border-color: #0b74ad; }
.thanks { font-weight: 700; color: #136f3a; }

@media (max-width: 700px) {
  .trait-grid { grid-template-columns: 1fr; }
  .progress-steps { grid-template-columns: 1fr 1fr; }
}
